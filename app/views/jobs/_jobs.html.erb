<%- if jobs.any? %>
  <div class='row'>
    <%- jobs.each do |job| %>
      <div class='col-3'>
        <% definition = job.send("#{type}_definition") %>
        <% next if definition.nil? %>

        <% if type == 'harvest' %>
          <% path = send("pipeline_harvest_definition_#{type}_job_path", pipeline, pipeline.harvest, job) %>
        <% else %>
          <% path = send("pipeline_harvest_definition_#{type}_definition_#{type}_job_path", pipeline, pipeline.harvest,
                         pipeline.harvest.extraction_definition, job) %>
        <% end %>

        <%= link_to path, class: 'card mb-3' do %>
          <div class='card-body'>
            <h5 class='card-title'><%= job.name %></h5>

              <%= job.updated_at.to_fs(:light) %>

              <span class="badge bg-light text-dark">
                <%= job_status_text(job) %>
              </span>
          </div>
        <% end %>

      </div>
    <%- end %>

    <%= render 'shared/pagination_below_table', items: jobs %>
  </div>

<% else %>

  <p>There are currently no jobs.</p>

<% end %>
