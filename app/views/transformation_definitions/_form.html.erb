<%= vertical_form_with model: [@content_partner, @transformation_definition], class: { row: true } do |form| %>
  <%= form.hidden_field :content_partner_id, value: @content_partner.id %>

  <div class="mb-3 col-12">
    <%= form.label :name, 'Name', class: "form-label" %>
    <%= form.text_field :name, class: "form-control" %>
  </div>

  <div class="mb-3 col-12">
    <%= form.label :job_id, 'Job', class: "form-label" %>
    <%= form.select(:job_id, grouped_options_for_select(@extraction_jobs, @transformation_definition.extraction_job_id), {}, class: 'form-select') %>
  </div>

  <div class="mb-3 col-12">
    <%= form.label :record_selector, 'Record Selector', class: "form-label" %>
    <%= form.text_field :record_selector, class: "form-control" %>
  </div>

  <div class="col-12">
    <button type="button" class="btn btn-secondary me-1" id="js-test-transformation">
      Test Record Selector
    </button>

    <button type="submit" class="btn btn-primary">
      Save
    </button>
  </div>
<% end %>

<div class='record-view mt-4'>
  <div id="js-record-selector-result"></div>
</div>
