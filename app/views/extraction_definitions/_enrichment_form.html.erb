<%= vertical_form_with model: [@pipeline, @harvest_definition, @extraction_definition],
                       id: 'js-extraction-definition-form' do |form| %>
  <%= form.hidden_field :pipeline_id, value: @pipeline.id %>
  <%= form.hidden_field :kind, value: 'enrichment' %>

  <div class='card'>
    <div class='card-body'>
      <div class='row gy-3 align-items-center'>
        <% if @extraction_definition.name.present? %>
          <div class="col-3">
            <%= form.label :name, 'Name', class: 'form-label' %>
          </div>

          <div class='col-9'>
            <%= form.text_field :name, class: 'form-control' %>
          </div>
        <% end %>

        <div class="col-3">
          <%= form.label :source_id, 'Enrichment Target Source ID', class: 'form-label' %>
        </div>
        <div class='col-9'>
          <%= form.text_field :source_id, class: 'form-control' %>
        </div>

        <div class="col-3">
          <%= form.label :enrichment_url, 'Enrichment URL', class: 'form-label' %>
        </div>
        <div class='col-9'>
          <%= form.hidden_field :enrichment_url, class: 'form-control', id: 'js-enrichment-url' %>
          <div id="js-enrichment-editor"></div>
        </div>

      </div>
    </div>
  </div>

<% end %>


<div id="js-enrichment-extraction-result"></div>
