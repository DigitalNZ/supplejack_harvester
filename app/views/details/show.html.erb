<%= content_for(:title) { "#{@extraction_definition.name} job" } %>

<%= content_for(:header) do %>
  <%= render 'shared/breadcrumb_nav' %>

  <div class="float-start">
    <h1><%= @extraction_job.extraction_definition.name %></h1>
    <strong><%= @extraction_job.updated_at.to_fs(:verbose) %></strong>
  </div>

  <div class="float-end">
    <% if @extraction_job.queued? || @extraction_job.running? %>
      <%= button_to 'Cancel job',
                    cancel_pipeline_harvest_definition_extraction_definition_extraction_job_path(
                      @pipeline,
                      @harvest_definition,
                      @extraction_definition,
                      @extraction_job
                    ),
                    class: 'btn btn-outline-danger me-1',
                    form_class: 'd-inline' %>
    <% end %>

    <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#delete-modal">
      <i class="bi bi-trash" aria-hidden="true"></i> Delete results
    </button>
  </div>

  <div class="clearfix"></div>
<% end %>

<div class="card">
  <div class="card-header">
    <h5 class="mb-0">Job Details Page</h5>
  </div>
  <div class="card-body">
    <div class="table-responsive">
    <table class="table table-hover">
        <thead>
        <tr>
            <th>Name</th>
            <th>Destination</th>
            <th>Status</th>
            <th>Run at</th>
            <th>Job Priority</th>
        </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
    </div>
  </div>
</div>

<%= render 'shared/pagination_below_table', items: @documents %>
